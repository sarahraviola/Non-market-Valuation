library(texreg)
n = 500  #Number of markets we want to simulate
x = rnorm(n)
w = rnorm(n)
xi = rnorm(n)
omega = rnorm(n)
n = 500  #Number of markets we want to simulate
sigma_d = 1
beta_0 = 5
beta_x = 2
alpha = 1
gamma_0 = 1
gamma_x = .5
gamma_w = .25
sigma_omega = .25
sigma_c = .25
U <- function(x_j, p_j, xi_j){
return (beta_0 + beta_x*x_j + sigma_d*xi_j - alpha*p_j)
}
Ut_fct <- function(x_j, p_j, xi_j){
return (beta_0 + beta_x*x_j + sigma_d*xi_j - alpha*p_j)
}
p = 3
Ut_fct(1, 2, 3)
x[1]
m = 500  #Number of markets we want to simulate
n = 2   # Number of firms in a duopoly
N = 1000000 # Number of consumers in each market
sigma_d = 1
beta_0 = 5
beta_x = 2
alpha = 1
gamma_0 = 1
gamma_x = .5
gamma_w = .25
sigma_omega = .25
sigma_c = .25
x = rnorm(m)
w = rnorm(m)
xi = rnorm(m)
omega = rnorm(m)
sim = 100 #number of simulations
x = rnorm(m,2)
x
x = cbind(rnorm(m) ; rnorm(m))
x = cbind(rnorm(m), rnorm(m))
View(x)
View(x)
x[10,1]
x[10 ;]
x[10,]
x[,10]
x[10,2]
ones(2)
a = zeros(2)
rep(1, 10)
p = cbind(rep(1,m), rep(1,m)) #Initialize prices
View(p)
View(p)
m = 500  #Number of markets we want to simulate
n = 2   # Number of firms in a duopoly
N = 1000000 # Number of consumers in each market
sim = 100 #number of simulations
sigma_d = 1
beta_0 = 5
beta_x = 2
alpha = 1
gamma_0 = 1
gamma_x = .5
gamma_w = .25
sigma_omega = .25
sigma_c = .25
x = cbind(rnorm(m), rnorm(m))
w = cbind(rnorm(m), rnorm(m))
xi = cbind(rnorm(m), rnorm(m))
omega = cbind(rnorm(m), rnorm(m))
p = cbind(rep(1,m), rep(1,m)) #Initialize prices
Ut_fct <- function(x_j, p_j, xi_j){
return (beta_0 + beta_x*x_j + sigma_d*xi_j - alpha*p_j)
}
# The
share <- function(i, j, x, p){
#  i= 1,.. m; j = 1,..,n
u = exp(U(x[i,j], p[i,j], xi[i,j]))
s = exp(U(x[i,1], p[i,1], xi[i,1])) + exp(U(x[i,2], p[i,2], xi[i,2]))
return(u/s)
}
costs = function(x_j, w_j, xi_j, omega_j){
return (exp(gamma_0 + gamma_x*x_j + sigma_c*xi_j + gamma_w*w_j + sigma_omega* omega_j))
}
f_p = function(p){
return((alpha*(1-share(i, j, x, p)))^(-1) + costs(x_j, w_j, xi_j , omega_j))
}
i = 1
library(aod)
install.packages(aod)
"aod"
install.packages('aod')
help glm()
? glm
data <- read.csv('hw4_data.csv')
View(data)
v = rnorm(c, 0, 1)
rm(list=ls())
setwd("~/Documents/Empirical IO/HW4")
library(foreign)
library(knitr)
library(systemfit)
library(stargazer)
library(aod)
library(texreg)
library(AER)
data <- read.csv('hw4_data.csv')
# Parameter Set Up
m = 200 #Number of Markets
t = 2   #Number of Periods
c = 100000 #Potential consumers
f1 = 2  #Number of Firms in Period 1
f2 = 3  #Number of Firms in Period 3
cat(stargazer(data, title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(cor(data[,]), title="Correlation Matrix", header = FALSE), file = 'corr.tex')
rm(list=ls())
setwd("~/Documents/Empirical IO/HW4")
library(foreign)
library(knitr)
library(systemfit)
library(stargazer)
library(aod)
library(texreg)
library(AER)
data <- read.csv('hw4_data.csv')
# Parameter Set Up
m = 200 #Number of Markets
t = 2   #Number of Periods
c = 100000 #Potential consumers
f1 = 2  #Number of Firms in Period 1
f2 = 3  #Number of Firms in Period 3
cat(stargazer(data, title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(cor(data[,]), title="Correlation Matrix", header = FALSE), file = 'corr.tex')
v = rnorm(c, 0, 1)
c
v
mean(v)
View(data)
prova = function(x, p){}
prova = function(x,p){re}
prova = function(x,p){
return(x + y)}
a = c(1,2)
b = c(3,4)
prova(a,b)
prova(a,b)
prova = function(x,p){
+     return(x + p)}
prova(a,b)
delta <- function(x, p, gamma , beta, alpha, xi){
return(gamma + x*beta - alpha*p + xi)
}
View(data)
View(data)
View(data)
rm(list=ls())
setwd("~/Documents/Empirical IO/HW4")
library(foreign)
library(knitr)
library(systemfit)
library(stargazer)
library(aod)
library(texreg)
library(AER)
data <- read.csv('hw4_data.csv')
View(data)
delta <- function(x, p, gamma , beta, alpha, xi){
return(gamma + x*beta - alpha*p + xi)
}
mylogit <- glm( ~ gre + gpa + rank, data = data, family = "binomial")
rm(list=ls())
setwd("~/Documents/Empirical IO/HW4")
library(foreign)
library(knitr)
library(systemfit)
library(stargazer)
library(aod)
library(texreg)
library(AER)
data <- read.csv('hw4_data.csv')
# Parameter Set Up
m = 200 #Number of Markets
t = 2   #Number of Periods
c = 100000 #Potential consumers
f1 = 2  #Number of Firms in Period 1
f2 = 3  #Number of Firms in Period 3
cat(stargazer(data, title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(cor(data[,]), title="Correlation Matrix", header = FALSE), file = 'corr.tex')
v = rnorm(c, 0, 1) #these are the "individuals". They will be the same across markets
delta <- function(x, p, gamma , beta, alpha, xi){
return(gamma + x*beta - alpha*p + xi)
}
View(data)
cat(stargazer(data$share data$price, title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
stargazer(data$share data$price, title = 'Descriptive Statistics', header = F)
stargazer(data$share, data$price, title = 'Descriptive Statistics', header = F)
cat(stargazer(data[3:7], title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(data[3:7] if(data$time ==1), title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(subset(c(data[3:7], data$time ==1)) , title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(subset(data[3:7], data$time ==1)) , title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(subset(data[3:7], data$time ==1) , title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(subset(data[2:7], data$time ==1) , title = 'Descriptive Statistics', header = F), file = 'sumstat.tex')
cat(stargazer(subset(data[4:7], data$time ==2) , title = 'Descriptive Statistics', header = F), file = 'sumstat2.tex')
View(data)
data$q = data$share * c
View(data)
View(data)
View(data)
data$mkt1
data$mkt[1]
data$mkt[2]
data$mkt[3]
data$mkt[8]
View(data)
View(data)
source(HW4_fct.R)
source('HW4_fct.R')
View(logit_lik)
?nlm
theta_0 = c(0.1, 0.5, 0.1)
nlm(logit_lik, theta_0)
nlm(logit_lik, theta_0)
rep(o,m)
rep(0,m)
nlm(logit_lik, theta_0)
nlm(logit_lik, theta_0)
nlm(logit_lik, theta_0)
source('HW4_fct.R')
logit_lik(theta_0)
source('HW4_fct.R')
logit_lik(theta_0)
source('HW4_fct.R')
logit_lik(theta_0)
source('HW4_fct.R')
source('HW4_fct.R')
logit_lik(theta_0)
nlm(logit_lik, theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
theta_0 = c(0.1, 2, 0.1)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
data$q = data$share * c
theta_0 = c(0.1, 2, 0.1)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
data$q = data$share * c
theta_0 = c(-2, 2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
View(data)
source('HW4_fct.R')
theta_0 = c(-2, 2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
source('HW4_fct.R')
theta_0 = c(-2, 2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
theta_0 = c(2, -2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
source('HW4_fct.R')
theta_0 = c(2, -2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
source('HW4_fct.R')
theta_0 = c(2, -2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
View(data)
m = data$mkt[length(data)] #Number of Markets
View(data)
data$mkt[length(data)]
View(data)
data$mkt[1000]
length(data)
length(data,1)
length(data,2)
length(data :)
size(data)
m = data$mkt[length(data$mkt)] #Number of Markets
m
typeof(m)
source('HW4_fct.R')
theta_0 = c(2, -2.5, 0.5)
logit_lik(theta_0)
mylogit = nlm(logit_lik, theta_0)
mylogit$estimate
mylogit = nlm(logit_lik, theta_0, hessian = T)
sqrt(diag(solve(-mylogit$hessian)))
mylogit = nlm(logit_lik, theta_0, hessian = T)
sqrt(diag(solve(-mylogit$hessian)))
mylogit$hessian
sqrt(diag(solve(mylogit$hessian)))
View(mylogit)
View(mylogit)
View(data)
View(data)
cat(stargazer(subset(data[4:7], data$time ==1) , title = 'Descriptive Statistics', header = F), file = 'sumstat1.tex')
cat(stargazer(subset(data[4:7], data$time ==2) , title = 'Descriptive Statistics', header = F), file = 'sumstat2.tex')
cat(stargazer(cor(data[4:7,]), title="Correlation Matrix", header = FALSE), file = 'corr.tex')
help cat
rm (list = ls)
rm (list = lm)
rm (list = ls)
rm (list = ls())
y = 100
yp = 100
t = 20
tp = 20
beta = 1/1.02
r = 0.03
f = function(y, yp, t, tp, beta, r)
<
f = function(y, yp, t, tp, beta, r){
return(((y-t) + (yp - tp)/(1+r))/(1+beta))
}
f(y, yp, t, tp, beta, r)
c = f(y, yp, t, tp, beta, r)
cp = beta * (1+r) * c
cp
yp = 120
c = f(y, yp, t, tp, beta, r)
c
cp = beta * (1+r) * c
cp
79.62 - 80
s = 0.3 * (yp - tp)/(1+r)
s
c
c''
cp
80 - c
rm (list = ls)
rm(list = ls())
ln(a/b)
a = 11737
b = 13803
c = 15931
#a.
log(a/b)
log(b/c)
#Ex1
a = 11737
b = 13803
c = 15931
#a.
log(b/a)
log(c/b)
(b-a)/a
(c-b)/c
#a.
x_1 = log(b/a)
x_2 = log(c/b)
#b
y_1 = (b-a)/a
y_3 = (c-b)/c
#c
z_1 = log(c/a)
z_2 = (c-a)/a
x = x_1 + x_2
y_1
y = y_1 + y_2
y_2 = (c-b)/c
y = y_1 + y_2
z_1 - x
z_2 - y
g_bar = z_1 * (c - a)^-1
g_bar2 = (x_1 + x_2)/2
g_bar = z_1 * (c - a)
g_bar = z_1 * (c - a)^(-1)
g_bar2 = (x_1 + x_2)/2
x_1 = log(b/a)
rGDP_11 = 100 + 50*2
rGDP_21 = 110 + 44*2
rGDP_12 = 100*1.5 + 50*1.5
rGDP_22 = 110*1.5 + 44*1.5
g1 = ln(rGDP_21/rGDP_11)
g2 = ln(rGDP_22/rGDP_12)
g1 = log(rGDP_21/rGDP_11)
g2 = log(rGDP_22/rGDP_12)
g = (g1 + g2)/2
z_1 = log(c/a)*0.5
z_1 = log(c/a)
50*2.2
g_bar = z_1/2
rm (list = ls)
rm (list = ls())
# Put in your actual path where the text files are saved
mypath = "C:/Users/Dave/Desktop"
setwd(mypath)
# Create list of text files
txt_files_ls = list.files(path=mypath, pattern="*.txt")
# Read the files in, assuming comma separator
txt_files_df <- lapply(txt_files_ls, function(x) {read.table(file = x, header = T, sep =",")})
# Combine them
combined_df <- do.call("rbind", lapply(txt_files_df, as.data.frame))
View(txt_files_df)
read.delim(file, header = TRUE, sep = "\t", dec = ".", ...
<
>
rm (list = ls())
path = '/Volumes/G-DRIVE mobile/Durham/2006/'
setwd(path)
library(readr)
la_data1 <- read_csv("Box/Non_mkt_valuation/PS1_Hedonics/la_data1.csv")
View(la_data1)
describe(la_data1)
library(Hmisc)
describe(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
setwd("~/Box/Non_mkt_valuation/PS1_Hedonics")
library(readr)
la_data1 <- read_csv("la_data1.csv", col_names = FALSE)
View(la_data1)
variables = ['house_ID', 'price', 'county', 'year_built', 'sq_feet', 'bath',
'bed', 'rooms', 'stories', 'violent_crime', 'property_crime', 'year_sale']
names(la_data1) <- c('house_ID', 'price', 'county', 'year_built', 'sq_feet', 'bath', 'bed', 'rooms', 'stories', 'violent_crime', 'property_crime', 'year_sale )
names(la_data1) <- c('house_ID', 'price', 'county', 'year_built', 'sq_feet', 'bath', 'bed', 'rooms', 'stories', 'violent_crime', 'property_crime', 'year_sale' )
View(la_data1)
View(la_data1)
describe(la_data1)
summarize(la_data1, by 'county')
summarize(la_data1, by county)
library("dplyr")
summarize(la_data1)
library(data.table)
x^2
2^2
LM <- price ~ bath bed stories property_crime property_crime^2 year_built year_built^2 sq_feet sq_feet^2 rooms rooms^2
linearMod <- lm(price ~ bath bed stories property_crime property_crime^2 year_built year_built^2 sq_feet sq_feet^2 rooms rooms^2, data=la_data1)  # build linear regression model on full data
linearMod <- lm(price ~ bath, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed + stories + property_crime + property_crime^2 + year_built + year_built^2 + sq_feet + sq_feet^2 + rooms + rooms^2, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed + stories + poly(property_crime, 2) + poly(year_built,2) + poly(sq_feet, 2) + poly(rooms,2), data=la_data1)  # build linear regression model on full data
print(linearMod)
dummy.coef(la_data1[year_sale])
dummy.coef(la_data1$year_sale)
install.packages("fastDummies")
library(fastDummies)
dummy_cols(la_data1, year_sale)
dummy_cols(la_data1, select_columns = c('year_sale', 'county')
dummy_cols(la_data1, select_columns = c('year_sale', 'county'))
la_data1 <- dummy_cols(la_data1, select_columns = c('year_sale', 'county'))
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
View(la_data1)
linearMod <- lm(price ~ bath + bed + stories + poly(property_crime, 2) + poly(year_built,2) + poly(sq_feet, 2) + poly(rooms,2) + poly(violent_crime,2) + year_sale_1993 + year_sale_1994 + year_sale_1995 year_sale_1996 + year_sale_1997 + year_sale_1998 + year_sale_2000 +  year_sale_2001 +  year_sale_2002 +  year_sale_2003 +  year_sale_2004 +  year_sale_2005 +  year_sale_2006 + county_59 + county_65 + county_71 + county_111, data=la_data1)  # build linear regression model on full data
linearMod <- lm(price ~ bath + bed + stories + poly(property_crime, 2) + poly(year_built,2) + poly(sq_feet, 2) + poly(rooms,2) + poly(violent_crime,2) + year_sale_1993 + year_sale_1994 + year_sale_1995+  year_sale_1996 + year_sale_1997 + year_sale_1998 + year_sale_2000 +  year_sale_2001 +  year_sale_2002 +  year_sale_2003 +  year_sale_2004 +  year_sale_2005 +  year_sale_2006 + county_59 + county_65 + county_71 + county_111, data=la_data1)  # build linear regression model on full data
print(linearMod)
print(round(linearMod))
3.667e+05
linearMod$coefficients
View(la_data1)
View(la_data1)
View(la_data1)
table(la_data1$year_sale)
dummy_cols(la_data1, select_columns = c('year_sale'))
View(la_data1)
View(la_data1)
linearMod <- lm(price ~ bath + bed + stories + poly(property_crime, 2) + poly(year_built,2) + poly(sq_feet, 2) + poly(rooms,2) + poly(violent_crime,2) + year_sale_1993 + year_sale_1994 + year_sale_1995+  year_sale_1996 + year_sale_1997 + year_sale_1998 + year_sale_2000 +  year_sale_2001 +  year_sale_2002 +  year_sale_2003 +  year_sale_2004 +  year_sale_2005 +  year_sale_2006 + year_sale_2007 + year_sale_2008+ county_59 + county_65 + county_71 + county_111, data=la_data1)  # build linear regression model on full data
print(linearMod)
2.983e+05
1.865e+04
-2.493e+04
linearMod <- lm(price ~ bath + bed, data=la_data1)  # build linear regression model on full data
print(linearMod)
-1.306e+07
-9.713e+03
linearMod <- lm(price ~ year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed+ year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed+ stories + property_crime + year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed+ stories + poly(property_crime, 2) + year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
la_data1$prop_crime_sq = la_data1$property_crime^2
linearMod <- lm(price ~ bath + bed + stories + property_crime + prop_crime_sq + poly(year_built,2) + poly(sq_feet, 2) + poly(rooms,2) + poly(violent_crime,2) + year_sale_1993 + year_sale_1994 + year_sale_1995+  year_sale_1996 + year_sale_1997 + year_sale_1998 + year_sale_2000 +  year_sale_2001 +  year_sale_2002 +  year_sale_2003 +  year_sale_2004 +  year_sale_2005 +  year_sale_2006 + year_sale_2007 + year_sale_2008+ county_59 + county_65 + county_71 + county_111, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed+ stories + property_crime + prop_crime_sq + year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed+ stories +poly(property_crime, 2, raw = True) + year_built + sq_feet, data=la_data1)  # build linear regression model on full data
print(linearMod)
linearMod <- lm(price ~ bath + bed + stories + property_crime + prop_crime_sq + poly(year_built,2, raw = TRUE) + poly(sq_feet, 2, raw = TRUE) + poly(rooms,2, raw = TRUE) + poly(violent_crime,2,raw = TRUE) + year_sale_1993 + year_sale_1994 + year_sale_1995+  year_sale_1996 + year_sale_1997 + year_sale_1998 + year_sale_2000 +  year_sale_2001 +  year_sale_2002 +  year_sale_2003 +  year_sale_2004 +  year_sale_2005 +  year_sale_2006 + year_sale_2007 + year_sale_2008+ county_59 + county_65 + county_71 + county_111, data=la_data1)  # build linear regression model on full data
print(linearMod)
